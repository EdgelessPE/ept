# 常用工作流
## 安装、更新、卸载
在 Nep 规范中，有三个常用工作流：
* 安装工作流（`setup.toml`）
* 更新工作流（`update.toml`）
* 卸载工作流（`remove.toml`）

在安装一个包时，ept 会调用这个包的安装工作流；

在卸载时，ept 会调用这个包的卸载工作流及安装工作流对应的[反向工作流](./4-reserve.md)；

更新时的情况则稍复杂一些：
* 如果更新前后两个包的第一作者一致：
  * 如果旧包提供了卸载工作流则执行旧包的卸载工作流
  * 如果新包提供了更新工作流则执行新包的更新工作流
  * 如果新包未提供更新工作流且执行了旧包的卸载工作流，则执行新包的安装工作流
* 如果更新前后两个包的第一作者不一致：
  * 先执行旧包的卸载工作流及安装工作流对应的反向工作流，再执行新包的安装工作流

## 展开
在可展开包中，ept 会在安装或更新前调用展开工作流。